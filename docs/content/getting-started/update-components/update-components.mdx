import { Image } from '@teambit/docs.ui.zoomable-image';
import {
  ImportExample,
  ImportOutputUpdated,
  ImportOutputAdded,
  DiffExample,
  DiffOutput,
  CheckoutHeadExample,
  CheckoutOutput,
  MergeConflictOutput,
  CheckoutHeadWithConflicts,
} from './commands';
import { ExpandedDiff, ExpandedCheckout } from './expand-command-options';
import compare from './compare-ws.png';

# Update Components

A component's source of truth is not is any specific workspace but in its remote scope. When collaborating on components it may happen that a newer version is available for a component maintained in your workspace.

To get new snaps for components maintained in your workspace, run:

<ImportExample />

_Alternatively, run `bit install` to install the workspace dependencies and import new component snaps, in a single command._

The output lists all updated components. These updates are stored in the [local scope](/workspace/structure/local-scope). They are not checked-out to the working directory, yet.

<ImportOutputUpdated />

When collaborating on a workspace using VCS like git, it may happen that new components are added to the workspace (the `.bitmap` file, which is tracked by your VCS, has additional components registered):

<ImportOutputAdded />

> Components with pending updates are also listed when running `bit status`.

## Compare component snaps

Bit uses git to evaluate differences snaps. To compare between two snaps, or between a snap and the component's local (un-snapped) changes, run:

<DiffExample />

<ExpandedDiff />

The following output lists the differences between the checked-out snap and the local changes.
Differences between versions can include dependencies and configuration, in addition to the component's source files.

<DiffOutput />

Alternatively, head over to the 'compare' tab in the UI (scope or workspace) to visually inspect changes:

<Image src={compare} />

## Checkout snaps to the working directory

To checkout a component's head (latest snaps) to the working directory, run the following:

<CheckoutHeadExample />

<ExpandedCheckout />

The output lists the component files that were updated by this checkout:

<CheckoutOutput />

### Handling merge conflicts

In cases where auto-merge is impossible, you wil be prompted with the following message:

<MergeConflictOutput />

To resolve these conflicts, run the checkout command again with one of these options:

- `--theirs` - accept incoming changes
- `--ours` - keep local changes
- `--manual` - resolve conflicts, manually

For example:

<CheckoutHeadWithConflicts />
